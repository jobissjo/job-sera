<form [formGroup]="userDetail" (ngSubmit)="onSubmitProfileEdit()">
    <h1 class="title">User Details</h1>
    <mat-stepper #stepper class="stepper">
        <mat-step class="step">
            <ng-template matStepLabel>Education & Certification Details</ng-template>
            <div class="education-details-container" id="education-section">
                <div class="education-details" formArrayName="education">
                    <h2>Education</h2>
                    <ng-container *ngFor="let control of educationArray.controls; let i=index">
                        <div [formGroupName]="i" [class]="'education-detail-'+i">
                            <div class="row">
                                <mat-form-field>
                                    <mat-label>Level</mat-label>
                                    <input matInput placeholder="+12" formControlName="level">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Field of Study</mat-label>
                                    <input matInput placeholder="Computer Science">
                                </mat-form-field>
                            </div>
                            <div class="row">
                                <mat-form-field>
                                    <mat-label>Started Date</mat-label>
                                    <input matInput placeholder="June 2021" formControlName="startedDate">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>End Date</mat-label>
                                    <input matInput placeholder="March 2023" formControlName="endedDate">
                                </mat-form-field>
                            </div>
                        </div>
                    </ng-container>
                    <div>
                        <button type="button" mat-stroked-button (click)="addEducation()" color="primary">
                            Add Education
                            <mat-icon>add</mat-icon>
                        </button>
                    </div>
                </div>
                <div class="certification-details" formArrayName="certifications" id="certification-section">
                    <h2>Certifications</h2>
                    <ng-container *ngFor="let control of certificationArray.controls; let i=index">
                        <div [formGroupName]="i" [class]="'certification-detail-'+i">
                            <div class="row">
                                <mat-form-field>
                                    <mat-label>Title</mat-label>
                                    <input matInput placeholder="Python Developer" formControlName="title">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Certificate Id</mat-label>
                                    <input matInput placeholder="XXXXXX24" formControlName="certificateId">
                                </mat-form-field>
                            </div>
                            <div class="row">
                                <mat-form-field>
                                    <mat-label>Institution</mat-label>
                                    <input matInput placeholder="Jo4Tech" formControlName="institution">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Mode of Study</mat-label>
                                    <input matInput placeholder="Offline" formControlName="mode">
                                </mat-form-field>
                            </div>
                            <div class="row">
                                <mat-form-field>
                                    <mat-label>Start Date</mat-label>
                                    <input matInput placeholder="June 2021" formControlName="startDate">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>End Date</mat-label>
                                    <input matInput placeholder="March 2023" formControlName="endDate">
                                </mat-form-field>
                            </div>
                        </div>
                    </ng-container>

                    <div>
                        <button type="button" mat-stroked-button (click)="addCertifications()" color="primary">
                            Add Certification
                            <mat-icon>add</mat-icon>
                        </button>
                    </div>

                </div>

                <div>
                    <button type="button" mat-stroked-button color="accent" matStepperNext>Next</button>
                </div>
            </div>
        </mat-step>
        <mat-step label="Skills & Experiences">
            <div class="qualification-details-container" id="qualification-section">


                <!-- Skills Array Container -->
                <div class="skills" formArrayName="skills">
                    <h2>Skills</h2>
                    <div>
                        <ng-container *ngFor="let control of skillsArray.controls; let i=index">
                            <mat-form-field>
                                <mat-label>Skills {{i+1}}</mat-label>
                                <input matInput placeholder="Django">
                            </mat-form-field>
                            <button type="button" mat-flat-button color="warn" (click)="deleteSkill(i)">Delete</button>
                        </ng-container>
                        <div>
                            <button type="button" mat-flat-button (click)="addSkills()" color="primary">Add
                                Skills</button>
                        </div>
                    </div>
                </div>

                <div class="experience-details" formArrayName="experience" id="experience-section">
                    <h2>Experiences</h2>
                    <ng-container *ngFor="let control of experienceArray.controls; let i=index">
                        <div [formGroupName]="i" [class]="'experience-detail-'+i">
                            <div class="row">
                                <mat-form-field>
                                    <mat-label>Title</mat-label>
                                    <input matInput placeholder="Python Developer" formControlName="position">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Certificate Id</mat-label>
                                    <input matInput placeholder="Jo4Tech" formControlName="companyName">
                                </mat-form-field>
                            </div>

                            <div class="row">
                                <mat-form-field>
                                    <mat-label>Start Date</mat-label>
                                    <input matInput placeholder="June 2021" formControlName="startDate">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>End Date</mat-label>
                                    <input matInput placeholder="March 2023" formControlName="endDate">
                                </mat-form-field>
                            </div>
                        </div>
                    </ng-container>

                    <div>
                        <button type="button" mat-stroked-button (click)="addExperience()" color="primary">
                            Add Experience
                            <mat-icon>add</mat-icon>
                        </button>
                    </div>

                </div>

                <div formArrayName="knownLanguages" id="language-section">
                    <h2>Known Languages</h2>
                    <ng-container *ngFor="let control of knownLanguageArray.controls; let i=index">
                        <div [formGroupName]="i" [class]="'languages-detail-'+i">
                            <div class="row">
                                <mat-form-field>
                                    <mat-label>Language</mat-label>
                                    <input matInput placeholder="English" formControlName="language">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Level</mat-label>
                                    <input matInput placeholder="Beginner" formControlName="level">
                                </mat-form-field>
                            </div>
                            <div class="checkbox-container">
                                <h4>Select knowledgeable Area</h4>
                                <section class="checkboxes">
                                    <mat-checkbox formControlName="reading">Reading</mat-checkbox>
                                    <mat-checkbox formControlName="writing">Writing</mat-checkbox>
                                    <mat-checkbox formControlName="speaking">Speaking</mat-checkbox>
                                </section>

                            </div>
                        </div>
                    </ng-container>
                    <div>
                        <button type="button" mat-stroked-button (click)="addLanguage()" color="primary">
                            Add Language
                            <mat-icon>add</mat-icon>
                        </button>
                    </div>
                </div>

                <button type="button" mat-button matStepperPrevious color="primary">Back</button>
                <button type="button" mat-button matStepperNext color="accent">Next</button>

            </div>

        </mat-step>
        <mat-step>
            <ng-template matStepLabel>Other Preference</ng-template>
            <div class="other-preference-container">
                <div class="job-preference">
                    <div>
                        <label for="">Job Type</label>
                        <mat-radio-group aria-label="Select an option">
                            <mat-radio-button value="1">Full-time</mat-radio-button>
                            <mat-radio-button value="2">Part-time</mat-radio-button>
                            <mat-radio-button value="3">Work From Home</mat-radio-button>
                            <mat-radio-button value="3">Hybrid</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div class="skills" formArrayName="preferredLocations">
                        <h2>Preferred Location</h2>
                        <div>
                            <ng-container *ngFor="let control of preferredLocationArray.controls; let i=index">
                                <mat-form-field class="form-field">
                                    <mat-label>Locations {{i+1}}</mat-label>
                                    <input matInput placeholder="Chennai">
                                </mat-form-field>
                                <button type="button" mat-flat-button color="warn"
                                    (click)="deletePrefLocations(i)">Delete</button>
                            </ng-container>
                            <div>
                                <button type="button" mat-flat-button (click)="addPreferredLocations()"
                                    color="primary">Add
                                    Location</button>
                            </div>
                        </div>
                    </div>

                    <div>

                    </div>
                </div>
                <div class="profile-photo">
                    <label for="">Profile Photo </label>
                    <input type="file" class="file-upload" placeholder="whatever">
                </div>
                <div class="resume-container">
                    <label for="">Resume </label>
                    <input type="file" class="file-upload" placeholder="whatever">
                </div>

                <p>Please verify you entered all the details and Submit</p>
                <div>
                    <button type="button" color="primary" mat-button matStepperPrevious>Back</button>
                    <!-- <button type="button" color="warn" mat-button (click)="stepper.reset()">Reset</button> -->
                    <button type="submit" color="warn" mat-button>Submit</button>
                </div>
            </div>

        </mat-step>
    </mat-stepper>
</form>